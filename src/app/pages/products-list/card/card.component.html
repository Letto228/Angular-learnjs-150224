<mat-card class="product d-flex flex-column gap-3 justify-content-between">
    <mat-card-header>
        <mat-card-title class="product_title">
            {{ product.name }}
        </mat-card-title>
        <mat-card-subtitle class="product_price">
            Price:
            <span>{{ product.price }} $</span>
        </mat-card-subtitle>
    </mat-card-header>

    <div class="slider d-flex flex-column justify-content-end flex-grow-1">
        <ng-container *ngFor="let image of product.images; let imageIndex = index" class="">
            <div *ngIf="imageIndex === currentSLide" class="slider_slide flex-grow-1">
                <img class="slider_image w-100" [src]="image.url" [alt]="image.source" />
            </div>
        </ng-container>

        <div class="slider_actions">
            <button mat-icon-button [disabled]="currentSLide < 1" (click)="prevSlide()">
                <mat-icon>chevron_left</mat-icon>
            </button>
            <button
                mat-icon-button
                [disabled]="currentSLide === product.images.length - 1"
                (click)="nextSlide()"
            >
                <mat-icon>chevron_right</mat-icon>
            </button>
        </div>
        <div class="slider_rate">
            <p>Отзывы: {{ product.feedbacksCount }}</p>
            <div class="slider_rate-stars">
                Рейтинг:
                <mat-icon [class.star-active]="isStarActive(1)">star</mat-icon>
                <mat-icon [class.star-active]="isStarActive(2)">star</mat-icon>
                <mat-icon [class.star-active]="isStarActive(3)">star</mat-icon>
                <mat-icon [class.star-active]="isStarActive(4)">star</mat-icon>
                <mat-icon [class.star-active]="isStarActive(5)">star</mat-icon>
            </div>
        </div>
    </div>
    <mat-card-actions class="d-flex justify-content-between gap-3">
        <button
            mat-button
            mat-stroked-button
            color="accent"
            class="w-50"
            (click)="buyFavorite(product._id)"
        >
            <mat-icon>favorite</mat-icon>
            Add Favorite
        </button>
        <button
            mat-stroked-button
            mat-button
            color="primary"
            class="w-50"
            (click)="buyProduct(product._id)"
        >
            Buy now
        </button>
    </mat-card-actions>
</mat-card>
